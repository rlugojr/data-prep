<!--
  ~ ============================================================================
  ~
  ~  Copyright (C) 2006-2016 Talend Inc. - www.talend.com
  ~
  ~  This source code is available under agreement available at
  ~  https://github.com/Talend/data-prep/blob/master/LICENSE
  ~
  ~  You should have received a copy of the agreement
  ~  along with this program; if not, write to Talend SA
  ~  9 rue Pages 92150 Suresnes, France
  ~
  ~ ============================================================================
  -->

<div class="cluster">
    <div class="cluster-body">
        <table>
            <thead>
            <tr class="cluster-line">
                <th>
                    <label>
                        <input type="checkbox"
                               ng-model="clusterParamsCtrl.allCheckboxState"
                               ng-click="clusterParamsCtrl.refreshClusterState()"
                               ng-disabled="!!clusterParamsCtrl.isReadonly"/>
                    </label>
                </th>
                <th ng-repeat="title in ::clusterParamsCtrl.details.titles track by $index">{{::title}}</th>
            </tr>
            </thead>
            <tbody class="cluster-body">
            <tr class="cluster-line"
                ng-repeat="cluster in ::clusterParamsCtrl.details.clusters track by $index">
                <td>
                    <label>
                        <input class="cluster-activation"
                               ng-model="cluster.active"
                               type="checkbox"
                               ng-click="clusterParamsCtrl.refreshToggleCheckbox()"
                               ng-disabled="!!clusterParamsCtrl.isReadonly"/>
                    </label>
                </td>
                <td>
                    <transform-simple-param ng-repeat="parameter in cluster.parameters"
                                            class="param-no-space"
                                            label="false"
                                            parameter="parameter"
                                            is-readonly="clusterParamsCtrl.isReadonly"></transform-simple-param>
                </td>
                <td>
                    <transform-simple-param class="param-no-space"
                                            label="false"
                                            editable-select="cluster.replace.list"
                                            parameter="cluster.replace"
                                            is-readonly="clusterParamsCtrl.isReadonly"></transform-simple-param>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
